from __future__ import division
import numpy as np
import matplotlib.pyplot as plt
def right_turn(a, b, c):
    return (b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])
    
    

def convex_hull(points):

    
    ordered_points = sorted(points) # Ordenamos los puntos 
    # Construimos el lower hull comprobando 
    Llower = []
    for p in ordered_points:
        while len(Llower) >= 2 and right_turn(Llower[-2], Llower[-1], p) <= 0:
            Llower.pop() # Eliminamos el punto "del medio", el ultimo
                         # que habiamos anyadido al lower hull
        Llower.append(p) # Anyadimos el punto siguiente
 
    # Build upper hull
    Lupper = []
    for p in reversed(ordered_points):
        while len(Lupper) >= 2 and right_turn(Lupper[-2], Lupper[-1], p) <= 0:
            Lupper.pop() # Eliminamos de nuevo el punto del medio 
        Lupper.append(p) # Anyadimos el punto siguiente

    
    convex = Llower[:-1] + Lupper[:-1] # Concatenamos ambas listas
    convex = [convex[0]]+convex[::-1]  # Duplicamos el punto inicial y
                                       # lo anyadimos a la lista de
                                       # puntos recorrida en sentido antihorario
    return convex

if __name__ == '__main__':
     
    #points = [[1,2],[3,3],[5,6],[0,10],[3,5],[6,5],[0,9]]
    #points = [[-1, 0], [1, 0], [1, 1], [-1, 0], [1, 0], [1, 1]]
    #points = [(i/10, i%10) for i in range(100)]
    #points = [[0,0], [1,0]]
    points = [[-90, -64], [43, -27], [85, -33], [29, 21], [60, -84],
              [-93, 24], [-18, -50], [-76, 79], [67, -38], [-34, 69],
              [52, -27], [70, -70], [-14, 73], [-54, 18], [60, 25],
              [52, -21], [88, -47], [18, 67], [63, -29], [7, 69],
              [-91, -48], [94, 87], [-41, -65], [17, 69], [-57, -8],
              [-87, -18], [76, -32], [-89, 100], [-66, 61], [-92, 95],
              [91, -71], [-26, -69], [-77, -73], [-19, -100], [-51,
                                                               80], [70, -13], [54, -22], [-70, -13], [-38, 5], [6,
                                                                                                                 24], [-56, -19], [-83, 3], [69, 83], [91, -66], [83,
                                                                                                                                                                  -86], [90, -44], [-12, 73], [100, 62], [37, 77], [-21,
                                                                                                                                                                                                                    -59], [-99, -26], [-80, -32], [-51, 80], [65, 4], [88,
                                                                                                                                                                                                                                                                       2], [78, -81], [-74, -61], [58, -88], [-13, -5], [-28,
                                                                                                                                                                                                                                                                                                                         -62], [-30, -96], [4, 26], [-85, 21], [-46, 98], [-24,
                                                                                                                                                                                                                                                                                                                                                                           -83], [-84, 96], [-83, 5], [-15, -99], [-56, 36], [39,
                                                                                                                                                                                                                                                                                                                                                                                                                              10], [-40, -7], [-65, -17], [-79, 31], [71, 11], [-46,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                -62], [-62, 68], [2, 78], [-58, 62], [-40, 62], [1,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 -89], [22, -63], [-58, 42], [49, -30], [50, -64], [-36,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    -67], [74, 74], [-9, -35], [64, 67], [33, 96], [-4,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    -56], [-53, 85], [-92, 47], [-21, 40], [-57, 50], [90,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       -61], [27, 71], [-45, -91], [96, 40], [59, -82], [58,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         -28], [94, 60], [9, -49], [49, -95], [-20, -60], [-51,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           50], [-68, -7], [60, 5], [4, -67], [-39, 97], [-80, 76],
              [54, 68], [-23, 85], [89, 57], [-37, 46], [-61, 67],
              [-30, -5], [59, 8], [26, 62], [-86, -76], [-96, 61],
              [-57, 11], [61, 98], [-94, 60], [71, -22], [33, 71],
              [-41, 13], [-88, -6], [-97, 93], [-56, -26], [-94, -12],
              [85, 95], [-57, -88], [41, 96], [-47, 7], [-41, 88],
              [52, 72], [-18, 50], [60, 24], [-51, 23], [-63, -62],
              [-75, -83], [24, -93], [-30, 34], [43, -57], [-28, -13],
              [33, 10], [62, 5], [73, -86], [-34, 20], [58, 89], [95,
                                                                  -24], [-47, -44], [-54, -94], [-4, -81], [53, 20], [-57,
                                                                                                                      18], [53, -38], [32, -64], [-82, -2], [-76, 49], [8,
                                                                                                                                                                        50], [39, -32], [72, -59], [1, 20], [-90, 10], [-56,
                                                                                                                                                                                                                        -40], [93, 30], [-50, 71], [-42, -17], [-29, 3], [-94,
                                                                                                                                                                                                                                                                          14], [-70, -7], [-9, -69], [38, -68], [95, 26], [-67,
                                                                                                                                                                                                                                                                                                                           -17], [-22, -37], [-55, 96], [87, 92], [58, 83], [77,
                                                                                                                                                                                                                                                                                                                                                                             -10], [56, -89], [-30, -6], [-77, 88], [55, 66], [53,
                                                                                                                                                                                                                                                                                                                                                                                                                               -99], [-82, 6], [88, 53], [54, -33], [34, -30], [3,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                -18], [27, -93], [15, 12], [-76, -11], [2, 24], [5, -1],
              [-17, 66], [-88, -9], [94, 50], [-30, -33], [56, 36],
              [70, 29], [-62, -7], [34, -9], [1, 48], [-9, 69], [25,
                                                                 -1], [-15, 9], [-98, 36], [-24, -75], [-100, 69], [-42,
                                                                                                                    7], [25, 10], [67, 88], [42, 66], [-84, -82], [44, -34],
              [51, 88], [51, 85], [77, 46], [-53, 79], [-78, 21],
              [-52, 0], [75, 28], [-51, -57], [-49, -1], [-97, 55],
              [-88, -72], [-5, 39], [-33, 92], [94, -67], [-37, -51],
              [-69, 2], [-61, -11], [12, 30], [74, -62], [87, -17],
              [46, -70], [-82, 66], [6, 34], [-13, -4], [-12, 40],
              [-77, 5], [9, 59], [-80, -48], [-61, -3], [95, 46], [14,
                                                                   35], [92, 91], [53, 97], [-100, 66], [24, -8], [56,
                                                                                                                   -40], [-16, 37], [65, 5], [-91, -60], [62, -4], [47,
                                                                                                                                                                    38], [-85, -59], [77, 41], [75, -32], [80, -5], [65,
                                                                                                                                                                                                                     34], [-63, -65], [94, -52], [-96, 39], [71, 4], [0, 54],
              [48, 83], [91, -18], [-1, -86], [40, -30], [-72, -55],
              [-57, 41], [11, -74], [74, -88], [59, 20], [49, 83],
              [80, -73], [87, -58], [84, -57], [-69, 35], [-58, 92],
              [-20, 66], [-93, -43], [51, -95], [42, -74], [55, 14],
              [70, 47], [-25, -98], [-68, -62], [-23, -1], [11, 100],
              [-81, -63], [12, 10], [-15, -28], [10, 21], [-55, -67],
              [82, 65], [28, -23], [-65, 1], [28, -20], [14, 25],
              [-44, -97], [-38, 10], [-94, -97], [-39, -3], [-10,
                                                             -16], [-53, -60], [44, 14], [97, -84], [97, -90], [66,
                                                                                                                -84], [-38, -1], [32, 93], [-58, 87], [-73, 30], [17,
                                                                                                                                                                  -58], [45, -7], [53, 16], [70, -31], [-82, -85], [-43,
                                                                                                                                                                                                                    82], [-63, -63], [99, 25], [-43, 32], [-56, 91], [66,
                                                                                                                                                                                                                                                                      65], [-35, -85], [-46, 83], [-42, -25], [-45, -69],
              [-57, 1], [-16, -54], [79, -36], [49, 84], [15, -68],
              [-36, -22], [-82, -100], [28, 38], [61, -15], [16, 85],
              [30, 36], [70, 68], [77, -99], [51, 88], [29, -49], [69,
                                                                   -23], [-33, -98], [78, -14], [96, 46], [88, 21], [83,
                                                                                                                     -45], [86, -29], [97, -100], [-49, -93], [-99, 62],
              [-73, 17], [-16, -7], [-84, 26], [-47, -64], [-70, 16],
              [55, -91], [23, 95], [-9, 38], [-25, 5], [16, 3], [85,
                                                                 36], [18, 89], [-33, 25], [-95, 68], [-26, 15], [30,
                                                                                                                  99], [-30, -66], [-87, 47], [-78, -95], [7, 80], [-19,
                                                                                                                                                                    43], [42, 54], [16, 29], [-59, -35], [-11, -59], [60,
                                                                                                                                                                                                                      37], [-63, -56], [-69, -30], [-25, 65], [-41, 68], [39,
                                                                                                                                                                                                                                                                          35], [47, -62], [-51, 100], [84, 24], [29, 37], [-50,
                                                                                                                                                                                                                                                                                                                           93], [89, 94], [55, 94], [35, 14], [-76, 47], [94, -67],
              [4, 25], [71, -57], [57, -1], [-30, 82], [84, 54], [22,
                                                                  -62], [98, -28], [87, -78], [-22, 14], [2, -79], [7,
                                                                                                                    86], [47, 97], [-69, 25], [-58, 63], [62, 17], [-58,
                                                                                                                                                                    -49], [21, 99], [-4, -46], [50, -44], [4, 95], [-24,
                                                                                                                                                                                                                    25], [77, -36], [33, -85], [43, 94], [-92, -64], [-55,
                                                                                                                                                                                                                                                                      -70], [26, 97], [-51, 1], [28, -59], [25, -4], [-83,
                                                                                                                                                                                                                                                                                                                      10], [-95, -22], [20, -35], [-77, 64], [-27, 100], [-68,
                                                                                                                                                                                                                                                                                                                                                                          81], [95, 97], [-54, -11], [-28, 68], [84, 90], [-14,
                                                                                                                                                                                                                                                                                                                                                                                                                           -50], [-57, 47], [98, -86], [14, -87], [35, 37], [77,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             -90], [71, -4], [29, -66], [93, -48], [-8, 33], [37,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              -32], [35, 73], [3, 33], [-24, -16], [31, -5], [-65,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              50], [-13, -26], [-21, 44], [22, -89], [-48, 38], [-61,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 92], [-58, 9], [15, -18], [-55, 38], [-59, 39], [51,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  -62], [-85, -32], [-89, -28], [-41, 47], [-24, -76],
              [88, -52], [23, -79], [-69, 37], [51, 8], [-48, 80],
              [-92, 21], [-84, 48], [81, 20], [7, -86], [-53, -75],
              [38, -33], [-40, -18], [54, 36], [66, 73], [27, -71],
              [-74, -25], [-63, 42], [76, -1], [25, 26], [87, 90],
              [85, -62], [47, 29], [14, 84], [-35, 22], [-91, -54],
              [-19, 86], [-16, -77], [50, -47], [51, -10], [-55, -18],
              [90, 76], [54, -6], [99, 64], [-41, 25], [93, 78], [-91,
                                                                  18], [-96, -75], [1, -37], [-62, 83], [60, 21], [-88,
                                                                                                                   98], [-56, 51], [30, -27], [41, -31], [-45, -93], [-44,
                                                                                                                                                                      -60], [-56, 8], [88, -46], [-54, 3], [72, 22], [-100,
                                                                                                                                                                                                                      94], [76, -89], [-65, -9], [0, -93], [52, 61], [4, 38],
              [-9, -76], [58, 69], [15, -62], [94, -62], [62, 36],
              [-84, -4], [-8, 90], [11, 44], [99, -77], [71, 51], [83,
                                                                   -34], [9, -38], [43, 44], [-51, 62], [57, -25], [-63,
                                                                                                                    30], [-98, 21], [36, -7], [-28, -68], [-51, 62], [-76,
                                                                                                                                                                      62], [97, 2], [-53, 87], [-3, -24], [-13, -10], [-4,
                                                                                                                                                                                                                       18], [92, -43], [10, -76], [59, 83], [-21, -65], [-58,
                                                                                                                                                                                                                                                                         0], [24, 82], [-10, -3], [-87, 21], [80, 57], [13, 36],
              [-23, -3], [66, -12], [-36, -58], [24, 25], [3, -27],
              [26, -70], [-88, 64], [-77, -30], [85, -13], [-85, 2],
              [-69, -46], [-66, -12], [-7, -76], [7, -25], [-62, 29],
              [55, 99], [-20, 88], [6, -97], [61, -14], [4, -25],
              [-24, -65], [12, 45], [-20, -25], [-97, 88], [-19, -24],
              [48, 63], [-93, 71], [-10, -44], [-69, -66], [-94, 1],
              [-62, 26], [-77, 80], [0, 70], [-15, -55], [36, 10],
              [81, -35], [72, 91], [79, -98], [40, -100], [68, -89],
              [37, 11], [-1, -87], [-7, -96], [49, 57], [-11, 60],
              [36, -34], [-36, 63], [-46, 77], [71, 29], [71, 45],
              [62, 44], [97, 90], [81, -11], [80, 25], [-23, 77], [28,
                                                                   -12], [24, -28], [77, 38], [17, -26], [44, -73], [47,
                                                                                                                     68], [-5, 17], [73, 73], [-18, 96], [72, 7], [15, 58],
              [77, -1], [36, 76], [49, -64], [4, 73], [-83, -97],
              [-22, 48], [-1, 87], [-87, -92], [-46, -6], [39, 26],
              [61, 87], [75, 5], [-30, -44], [-44, 85], [46, 66], [57,
                                                                   -13], [44, -42], [-8, -42], [-79, -44], [-92, -80], [60,
                                                                                                                        -81], [-69, 62], [-46, 84], [-84, 44], [21, -72], [9,
                                                                                                                                                                           67], [-67, -3], [-16, -42], [84, 40], [-10, 91], [0,
                                                                                                                                                                                                                             -42], [98, 27], [82, 46], [-46, -82], [-68, 81], [-88,
                                                                                                                                                                                                                                                                               -71], [49, -17], [-86, -78], [12, -94], [-86, -88], [76,
                                                                                                                                                                                                                                                                                                                                    -7], [90, 58], [-81, 75], [30, 33], [11, -57], [-30,
                                                                                                                                                                                                                                                                                                                                                                                    -55], [-63, 50], [51, -90], [-31, -60], [50, -95], [-9,
                                                                                                                                                                                                                                                                                                                                                                                                                                        -90], [1, -66], [14, -79], [-98, -41], [-51, 81], [66,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           -66], [23, -15], [-89, -18], [15, 70], [-75, 75], [-77,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              -56], [98, 9], [17, 75], [-39, 36], [15, 84], [-1, 100],
              [-20, 56], [92, -81], [44, -92], [57, -49], [-49, -35],
              [-90, 10], [-55, -79], [100, 51], [27, -16], [-83, -37],
              [54, 90], [-92, 80], [-30, 88], [40, 13], [-25, -16],
              [-81, 76], [-1, 2], [-4, 23], [58, 68], [-33, 14], [63,
                                                                  -71], [-73, 72], [14, -48], [55, 73], [26, -81], [80,
                                                                                                                    20], [-95, -5], [43, -31], [22, -5], [99, -79], [96,
                                                                                                                                                                     36], [-55, -38], [69, 90], [35, -25], [16, 40], [-64,
                                                                                                                                                                                                                      84], [48, -80], [-56, -84], [80, -27], [43, -64], [-30,
                                                                                                                                                                                                                                                                         -46], [-86, 42], [-20, 29], [-55, -81], [-64, -100],
              [56, 95], [13, -14], [-83, -52], [-96, -89], [-39, -91],
              [88, -79], [80, 36], [85, 76], [-51, 98], [-6, -90],
              [-39, 3], [-84, -14], [64, 82], [-53, 7], [-88, 89],
              [-54, 87], [-29, -78], [-47, 1], [37, 46], [-94, 78],
              [-84, 4], [-10, -18], [27, -94], [19, 50], [55, 31],
              [-89, 97], [-8, 13], [68, 74], [-5, -21], [28, 11],
              [-71, -2], [72, -3], [-32, 18], [71, -50], [-5, -34],
              [-4, -89], [-66, -71], [-4, -89], [11, -94], [-89, -64],
              [-22, -56], [-10, 76], [4, 90], [67, 93], [68, 97],
              [-96, -72], [16, 77], [-18, 69], [55, 66], [-33, 84],
              [88, -100], [-59, -27], [-18, -95], [8, -83], [37, 16],
              [78, 0], [-12, 13], [-69, 23], [53, 31], [-1, -69], [29,
                                                                   -91], [-63, -58], [-5, -51], [93, 41], [-8, -52], [53,
                                                                                                                      42], [53, 92], [50, -100], [-73, -47], [55, 87], [45,
                                                                                                                                                                        18], [63, -43], [24, 28], [4, -17], [-44, -53], [38,
                                                                                                                                                                                                                         -9], [-27, -82], [-3, 19], [23, 92], [-91, 17], [-20,
                                                                                                                                                                                                                                                                          -19], [-22, -62], [48, 33], [-25, 75], [-76, -43], [-5,
                                                                                                                                                                                                                                                                                                                              -21], [70, 44], [-1, 80], [-94, 10], [-95, 25], [8, -1],
              [-36, -79], [-20, -57], [-98, 42], [92, 3], [-47, 75],
              [-13, 26], [-81, 30], [93, 35], [46, 78], [-7, -37],
              [-58, 99], [-2, 64], [-29, -100], [47, -58], [12, 67],
              [85, 14], [-84, 33], [65, 1], [-96, -47], [-67, -32],
              [-86, -95], [36, 22], [31, 84], [52, -55], [67, -34],
              [31, 96], [70, -35], [-28, 70], [40, 47], [-39, -20],
              [55, -89], [-60, 64], [-49, 1], [-29, -44], [-35, -51],
              [98, -58], [-3, -61], [7, 47], [13, -35], [-21, -14],
              [21, 90], [8, 33], [-8, 98], [29, 81], [-46, 74], [38,
                                                                 33], [-69, 2], [22, 22], [58, 74], [-55, -61], [-9,
                                                                                                                 -53], [-41, -22], [75, 47], [-76, -65], [-97, -51], [-9,
                                                                                                                                                                      88], [63, 52], [48, -98], [37, -54], [0, 29], [-80,
                                                                                                                                                                                                                     -99], [-24, 47], [79, 78], [3, 37], [56, 8], [15, 85],
              [-25, 71], [-76, 77], [-100, 34], [-19, 95], [-34, 99],
              [5, 67], [8, 96], [13, 82], [59, 59], [42, 98], [-32,
                                                               4], [60, 30], [98, -23], [-23, -85], [73, 15], [-12,
                                                                                                               92], [25, 83], [27, 56], [17, -9], [-26, -20], [76,
                                                                                                                                                               -33], [66, -69], [-45, 62], [-33, 39], [-63, 45], [-97,
                                                                                                                                                                                                                  61], [-78, -14], [80, 9], [26, -18], [26, 0], [30, 17],
              [64, -48], [26, -6], [-80, 20], [-38, 60], [69, 73],
              [-85, -22], [-78, 40], [24, 12], [-50, -34], [-89, 39],
              [-19, -15], [6, 67], [39, -13], [34, -79], [-13, -3],
              [-82, 69], [79, -18], [95, -98], [-57, 57], [33, 60],
              [-98, 67], [-12, -34], [-27, 66], [89, -84], [79, 87],
              [15, 98], [-88, 99], [11, -96], [-96, 73], [62, -3],
              [-91, 65], [-32, 53], [5, 46], [-31, 21], [64, 28], [59,
                                                                   90], [-100, -14], [54, -46], [2, 42], [2, -35], [-28,
                                                                                                                    7], [-77, -65], [-51, 66], [99, -58], [-96, 27], [-35,
                                                                                                                                                                      24], [-29, 68], [45, 23], [-3, 98], [-60, -88], [-62,
                                                                                                                                                                                                                       -88], [-82, -30], [-15, 64], [-36, 45], [61, 65], [-78,
                                                                                                                                                                                                                                                                          74], [-53, 32], [-80, 86], [-49, -70], [29, 39], [-63,
                                                                                                                                                                                                                                                                                                                            43], [-24, -95], [23, -35], [-45, -41], [-3, 94], [-21,
                                                                                                                                                                                                                                                                                                                                                                               38], [59, 32], [95, -50], [-23, 35], [97, -94], [78,
                                                                                                                                                                                                                                                                                                                                                                                                                                -90], [-84, 65], [-33, -38], [-89, 44], [-98, 63]]

    convex = convex_hull(points)
    
    print convex
    for p in points:
        plt.plot(p[0], p[1], 'ro')
         
    kk1 = convex + [convex[0]]
    kk = np.array(kk1)
    print kk
     
    plt.plot(kk[:,0], kk[:,1], 'bo-')
    plt.show()
